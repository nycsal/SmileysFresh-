<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smiley's Fresh - Catch & Match Game</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #87CEEB 0%, #98FB98 100%);
            font-family: 'Arial', sans-serif;
            overflow: hidden;
            user-select: none;
        }

```
    #gameContainer {
        position: relative;
        width: 100vw;
        height: 100vh;
        overflow: hidden;
    }

    #gameCanvas {
        display: block;
        background: linear-gradient(to bottom, #87CEEB 0%, #98FB98 100%);
        cursor: none;
    }

    #ui {
        position: absolute;
        top: 20px;
        left: 20px;
        right: 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        z-index: 10;
        color: white;
        font-weight: bold;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    }

    #score, #level, #timer {
        background: rgba(0,0,0,0.3);
        padding: 10px 20px;
        border-radius: 25px;
        font-size: 18px;
        backdrop-filter: blur(10px);
    }

    #gameOver {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(255,255,255,0.95);
        padding: 40px;
        border-radius: 20px;
        text-align: center;
        display: none;
        z-index: 20;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    }

    #promotion {
        position: absolute;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(255,165,0,0.9);
        padding: 15px 30px;
        border-radius: 25px;
        color: white;
        font-weight: bold;
        font-size: 16px;
        animation: bounce 2s infinite;
        z-index: 10;
        text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
    }

    @keyframes bounce {
        0%, 20%, 50%, 80%, 100% { transform: translateX(-50%) translateY(0); }
        40% { transform: translateX(-50%) translateY(-10px); }
        60% { transform: translateX(-50%) translateY(-5px); }
    }

    #startScreen {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, #ff6b6b, #ffa500, #32cd32);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 30;
        color: white;
        text-align: center;
    }

    #startScreen h1 {
        font-size: 48px;
        margin-bottom: 20px;
        text-shadow: 3px 3px 6px rgba(0,0,0,0.5);
        animation: pulse 2s infinite;
    }

    @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
    }

    button {
        background: #ff6b6b;
        color: white;
        border: none;
        padding: 15px 30px;
        font-size: 20px;
        border-radius: 25px;
        cursor: pointer;
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        transition: all 0.3s ease;
    }

    button:hover {
        background: #ff5252;
        transform: translateY(-2px);
        box-shadow: 0 7px 20px rgba(0,0,0,0.4);
    }

    .instructions {
        max-width: 600px;
        margin: 20px;
        font-size: 18px;
        line-height: 1.6;
        background: rgba(0,0,0,0.3);
        padding: 20px;
        border-radius: 15px;
    }
</style>
```

</head>
<body>
    <div id="gameContainer">
        <div id="startScreen">
            <h1>üçé Smiley's Fresh ü•§</h1>
            <div class="instructions">
                <p><strong>How to Play:</strong></p>
                <p>‚Ä¢ Move your basket to catch falling fruits, vegetables & smoothies!</p>
                <p>‚Ä¢ Collect 3 of the SAME item to score 100 points</p>
                <p>‚Ä¢ Mix different items and get a ‚ùå - basket empties!</p>
                <p>‚Ä¢ Level 1: Score 1000 points | Level 2: Score 2000 points</p>
                <p>‚Ä¢ Each level lasts 40 seconds</p>
                <p><strong>Use arrow keys or mouse to move!</strong></p>
            </div>
            <button onclick="startGame()">Start Playing!</button>
        </div>

```
    <canvas id="gameCanvas"></canvas>
    
    <div id="ui">
        <div id="score">Score: 0</div>
        <div id="level">Level: 1</div>
        <div id="timer">Time: 40s</div>
    </div>

    <div id="promotion">
        üçì Don't forget to visit Smiley's Fresh for real smoothies & fresh produce! ü•ï
    </div>

    <div id="gameOver">
        <h2>Level Complete!</h2>
        <p id="levelMessage"></p>
        <button onclick="nextLevel()">Continue</button>
        <button onclick="restartGame()">Restart</button>
    </div>
</div>

<script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    
    // Set canvas size
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    // Game state
    let gameState = {
        score: 0,
        level: 1,
        timeLeft: 40,
        isPlaying: false,
        basket: { x: canvas.width / 2, y: canvas.height - 100, width: 120, height: 60 },
        items: [],
        fallingItems: [],
        basketItems: [],
        lastDrop: 0,
        gameTimer: null,
        levelTargets: [1000, 2000]
    };

    // Item types with emojis
    const itemTypes = [
        { emoji: 'üçé', name: 'apple', color: '#ff6b6b' },
        { emoji: 'üçå', name: 'banana', color: '#ffeb3b' },
        { emoji: 'üçä', name: 'orange', color: '#ff9800' },
        { emoji: 'ü•ï', name: 'carrot', color: '#ff5722' },
        { emoji: 'ü•í', name: 'cucumber', color: '#4caf50' },
        { emoji: 'üçì', name: 'strawberry', color: '#e91e63' },
        { emoji: 'ü•§', name: 'smoothie', color: '#9c27b0' },
        { emoji: 'üçá', name: 'grapes', color: '#673ab7' }
    ];

    // Input handling
    let keys = {};
    let mouseX = canvas.width / 2;

    document.addEventListener('keydown', (e) => {
        keys[e.key] = true;
    });

    document.addEventListener('keyup', (e) => {
        keys[e.key] = false;
    });

    canvas.addEventListener('mousemove', (e) => {
        const rect = canvas.getBoundingClientRect();
        mouseX = e.clientX - rect.left;
    });

    function startGame() {
        document.getElementById('startScreen').style.display = 'none';
        gameState.isPlaying = true;
        gameState.score = 0;
        gameState.level = 1;
        gameState.timeLeft = 40;
        gameState.basketItems = [];
        gameState.fallingItems = [];
        updateUI();
        startTimer();
        gameLoop();
    }

    function startTimer() {
        gameState.gameTimer = setInterval(() => {
            gameState.timeLeft--;
            updateUI();
            
            if (gameState.timeLeft <= 0) {
                endLevel();
            }
        }, 1000);
    }

    function endLevel() {
        clearInterval(gameState.gameTimer);
        gameState.isPlaying = false;
        
        const target = gameState.levelTargets[gameState.level - 1];
        const gameOverDiv = document.getElementById('gameOver');
        const messageDiv = document.getElementById('levelMessage');
        
        if (gameState.score >= target) {
            if (gameState.level >= gameState.levelTargets.length) {
                messageDiv.innerHTML = `üéâ Congratulations! You've completed all levels!<br>Final Score: ${gameState.score}<br><br>üçé Visit Smiley's Fresh for the real deal! ü•§`;
                document.querySelector('#gameOver button').style.display = 'none';
            } else {
                messageDiv.innerHTML = `üéâ Level ${gameState.level} Complete!<br>Score: ${gameState.score}/${target}<br><br>Ready for Level ${gameState.level + 1}?`;
            }
        } else {
            messageDiv.innerHTML = `üòÖ Almost there!<br>Score: ${gameState.score}/${target}<br><br>Try again to reach the target score!`;
        }
        
        gameOverDiv.style.display = 'block';
    }

    function nextLevel() {
        const target = gameState.levelTargets[gameState.level - 1];
        
        if (gameState.score >= target) {
            gameState.level++;
            if (gameState.level > gameState.levelTargets.length) {
                restartGame();
                return;
            }
        }
        
        gameState.timeLeft = 40;
        gameState.basketItems = [];
        gameState.fallingItems = [];
        document.getElementById('gameOver').style.display = 'none';
        gameState.isPlaying = true;
        updateUI();
        startTimer();
        gameLoop();
    }

    function restartGame() {
        gameState.score = 0;
        gameState.level = 1;
        gameState.timeLeft = 40;
        gameState.basketItems = [];
        gameState.fallingItems = [];
        document.getElementById('gameOver').style.display = 'none';
        gameState.isPlaying = true;
        updateUI();
        startTimer();
        gameLoop();
    }

    function updateUI() {
        document.getElementById('score').textContent = `Score: ${gameState.score}`;
        document.getElementById('level').textContent = `Level: ${gameState.level}`;
        document.getElementById('timer').textContent = `Time: ${gameState.timeLeft}s`;
    }

    function createFallingItem() {
        const itemType = itemTypes[Math.floor(Math.random() * itemTypes.length)];
        return {
            x: Math.random() * (canvas.width - 50),
            y: -50,
            width: 50,
            height: 50,
            speed: 2 + Math.random() * 3 + (gameState.level * 0.5),
            type: itemType,
            rotation: 0,
            rotationSpeed: (Math.random() - 0.5) * 0.2
        };
    }

    function updateBasket() {
        // Keyboard movement
        if (keys['ArrowLeft'] || keys['a'] || keys['A']) {
            gameState.basket.x -= 8;
        }
        if (keys['ArrowRight'] || keys['d'] || keys['D']) {
            gameState.basket.x += 8;
        }
        
        // Mouse movement
        gameState.basket.x = mouseX - gameState.basket.width / 2;
        
        // Keep basket on screen
        gameState.basket.x = Math.max(0, Math.min(canvas.width - gameState.basket.width, gameState.basket.x));
    }

    function checkCollisions() {
        gameState.fallingItems.forEach((item, index) => {
            if (item.x + item.width > gameState.basket.x &&
                item.x < gameState.basket.x + gameState.basket.width &&
                item.y + item.height > gameState.basket.y &&
                item.y < gameState.basket.y + gameState.basket.height) {
                
                // Item caught!
                gameState.basketItems.push(item.type);
                gameState.fallingItems.splice(index, 1);
                
                // Check basket contents
                if (gameState.basketItems.length === 3) {
                    checkBasketMatch();
                }
                
                // Visual feedback
                createParticles(item.x + item.width/2, item.y + item.height/2, item.type.color);
            }
        });
    }

    function checkBasketMatch() {
        const firstItem = gameState.basketItems[0].name;
        const allSame = gameState.basketItems.every(item => item.name === firstItem);
        
        if (allSame) {
            // Success! Add points
            gameState.score += 100;
            createSuccessEffect();
        } else {
            // Failed! Show X and empty basket
            createFailEffect();
        }
        
        gameState.basketItems = [];
        updateUI();
    }

    let particles = [];

    function createParticles(x, y, color) {
        for (let i = 0; i < 8; i++) {
            particles.push({
                x: x,
                y: y,
                vx: (Math.random() - 0.5) * 10,
                vy: (Math.random() - 0.5) * 10,
                color: color,
                life: 30,
                maxLife: 30
            });
        }
    }

    function createSuccessEffect() {
        createParticles(gameState.basket.x + gameState.basket.width/2, 
                      gameState.basket.y, '#00ff00');
    }

    function createFailEffect() {
        createParticles(gameState.basket.x + gameState.basket.width/2, 
                      gameState.basket.y, '#ff0000');
    }

    function updateParticles() {
        particles.forEach((particle, index) => {
            particle.x += particle.vx;
            particle.y += particle.vy;
            particle.life--;
            
            if (particle.life <= 0) {
                particles.splice(index, 1);
            }
        });
    }

    function drawParticles() {
        particles.forEach(particle => {
            ctx.save();
            ctx.globalAlpha = particle.life / particle.maxLife;
            ctx.fillStyle = particle.color;
            ctx.fillRect(particle.x - 2, particle.y - 2, 4, 4);
            ctx.restore();
        });
    }

    function drawBasket() {
        // Basket
        ctx.fillStyle = '#8B4513';
        ctx.fillRect(gameState.basket.x, gameState.basket.y, gameState.basket.width, gameState.basket.height);
        
        // Basket rim
        ctx.fillStyle = '#A0522D';
        ctx.fillRect(gameState.basket.x - 5, gameState.basket.y, gameState.basket.width + 10, 10);
        
        // Items in basket
        gameState.basketItems.forEach((item, index) => {
            ctx.font = '30px Arial';
            ctx.fillText(item.emoji, 
                gameState.basket.x + 15 + (index * 30), 
                gameState.basket.y + 35);
        });
        
        // Show X if items don't match
        if (gameState.basketItems.length === 3) {
            const firstItem = gameState.basketItems[0].name;
            const allSame = gameState.basketItems.every(item => item.name === firstItem);
            
            if (!allSame) {
                ctx.font = '40px Arial';
                ctx.fillStyle = '#ff0000';
                ctx.fillText('‚ùå', gameState.basket.x + 40, gameState.basket.y - 10);
            }
        }
    }

    function drawFallingItems() {
        gameState.fallingItems.forEach(item => {
            ctx.save();
            ctx.translate(item.x + item.width/2, item.y + item.height/2);
            ctx.rotate(item.rotation);
            ctx.font = '40px Arial';
            ctx.fillText(item.type.emoji, -20, 15);
            ctx.restore();
            
            item.rotation += item.rotationSpeed;
        });
    }

    function gameLoop() {
        if (!gameState.isPlaying) return;
        
        // Clear canvas
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        // Update game objects
        updateBasket();
        
        // Create new falling items
        if (Date.now() - gameState.lastDrop > 800 - (gameState.level * 100)) {
            gameState.fallingItems.push(createFallingItem());
            gameState.lastDrop = Date.now();
        }
        
        // Update falling items
        gameState.fallingItems.forEach((item, index) => {
            item.y += item.speed;
            
            // Remove items that have fallen off screen
            if (item.y > canvas.height) {
                gameState.fallingItems.splice(index, 1);
            }
        });
        
        // Check collisions
        checkCollisions();
        
        // Update particles
        updateParticles();
        
        // Draw everything
        drawFallingItems();
        drawBasket();
        drawParticles();
        
        // Continue game loop
        requestAnimationFrame(gameLoop);
    }

    // Handle window resize
    window.addEventListener('resize', () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        gameState.basket.y = canvas.height - 100;
    });
</script>
```

</body>
</html>
